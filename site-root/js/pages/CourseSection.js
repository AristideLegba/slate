Ext.define("Site.page.CourseSection",{singleton:true,constructor:function(){if(window.CourseSectionData){Ext.onReady(this.onDocReady,this)}},onDocReady:function(){Ext.select("a[href^=#copy-section-emails]").on("click",function(b,a){b.stopEvent();Ext.Ajax.request({url:"/sections/json/"+window.CourseSectionData.Handle+"/roster",success:function(c){var d=Ext.decode(c.responseText);window.prompt("Select and copy student emails",Ext.Array.map(Ext.Array.filter(d.data,function(e){return e.Email}),function(e){return'"'+e.FirstName+" "+e.LastName+'" <'+e.Email+">"}).join(", "))},method:"POST"})})}});