Ext.define("Site.page.CourseSection",{singleton:true,constructor:function(){Ext.onReady(this.onDocReady,this)},onDocReady:function(){var b=window.SiteEnvironment,a=b&&b.courseSection;if(!a){return}Ext.getBody().on("click",function(d,c){d.stopEvent();Ext.Ajax.request({method:"GET",url:a.recordURL+"/students",params:{include:"PrimaryEmail"},headers:{Accept:"application/json"},success:function(e){var f=Ext.decode(e.responseText);window.prompt("Select and copy student emails",Ext.Array.map(Ext.Array.filter(f.data,function(g){return g.PrimaryEmail}),function(g){return'"'+g.FirstName+" "+g.LastName+'" <'+g.PrimaryEmail.Data+">"}).join(", "))}})},null,{delegate:'a[href^="#copy-section-emails"]'})}});